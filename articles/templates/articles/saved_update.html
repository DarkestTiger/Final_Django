{% extends 'base.html' %}

{% block content %}
{% block title %}
<title>저장목록 이름 수정</title>
{% endblock title %}

<h1>SAVED CREATE</h1>
<a class="nav-link" href="{% url 'articles:list-template'%}">게시글 목록 조회</a>
<a class="nav-link" href="{% url 'articles:saved-list-template'%}">저장목록 조회</a>
<a class="nav-link" href="{% url 'articles:saved-detail-template' saved.id %}">저장목록으로 돌아가기</a>
<br>
<form onsubmit="updateArticleSaved(event)">
    <input name="name" type="text" value="{{ saved.name }}" placeholder="저장목록 이름을 입력하세요." required>
    <br>
    <button type="submit">저장목록 이름 수정</button>
</form>
<script>
    function updateArticleSaved(event) {
        event.preventDefault();
        var formData = new FormData(event.target);
        $.ajax({
            type: 'PUT',
            url: '/articles/saved/{{ savedId }}/',
            data: new FormData(event.target),
            contentType: false,
            processData: false,
            success: function (response) {
                location.href = '{% url "articles:saved-list-template" %}'
            }
        })
    }
</script>
{% endblock %}